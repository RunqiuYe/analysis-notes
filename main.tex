\documentclass[a4paper]{article}
\usepackage{parskip}
\usepackage{lipsum}

\def\nterm {Spring}
\def\nyear {2025}
\def\ncourse {Mathematical Studies Analysis}

\input{header}

\begin{document}
\maketitle

\tableofcontents

\section{Advanced topics in metric space theory}

\subsection{Baire category}

\begin{defi}
Let $X$ be a metric space.  
\begin{enumerate}
 \item We say that $E \subset X$ is nowhere dense if 
 $(\bar{E})^\circ = \varnothing$.
 \item We say that $E \subset X$ is meager in $X$ if 
\begin{equation*}
 E = \bigcup_{\alpha \in A} E_\alpha,
\end{equation*}
where $A$ is a countable set and $E_\alpha \subset X$ 
is nowhere dense for every $\alpha \in A$.
\end{enumerate}
\end{defi}

\begin{thm}
Prove that the following are equivalent for  
$E \subset X$:
\begin{enumerate}
 \item $E$ is nowhere dense
 \item $\bar{E}$ is nowhere dense
 \item $(\bar{E})^c$ is open and dense in $X$.
\end{enumerate}
\end{thm}

\begin{proof}
  (1) $\implies$ (2). Suppose $E$ is nowhere dense, then 
  $(\bar{E})^\circ = \emptyset$. Note that the closure 
  of $\bar{E}$ is just $\bar{E}$ itself. It follows that 
  $\bar{E}$ is also nowhere dense. 
  
  (2) $\implies$ (3). Suppose $\bar{E}$ is nowhere dense.
  Note that $\bar{E}$ is closed, so $(\bar{E})^c$ is open.
  Let $x \in X$ be arbitrary. Since $\bar{E}$ is nowhere dense,
  $x \notin (\bar{E})^\circ$. This implies that for arbitrary 
  $\epsilon > 0$, we have $B(x, \epsilon) \nsubset \bar{E}$.
  This is equivalent to $B(x, \epsilon) \cap (\bar{E})^c \neq 
  \emptyset$. Hence, $(\bar{E})^c$ is dense in $X$. 

  (3) $\implies$ (1). Suppose $(\bar{E})^c$ is dense in $X$. 
  Let $x \in X$ and $\epsilon > 0$ be arbitrary. It follows 
  that $B(x, \epsilon) \cap (\bar{E})^c \neq \emptyset$. 
  This is equivalent to $B(x, \epsilon) \nsubset \bar{E}$. 
  Therefore, $(\bar{E})^\circ = \emptyset$ and $E$ is nowhere 
  dense.
\end{proof}

\begin{thm}[Baire category thorem]
Let $X$ be a complete metric space.  Suppose that for each 
$n \in \N$, $U_n \subset X$ is open and dense in $X$. 
Prove that $\bigcap_{n=0}^\infty U_n$ is dense in $X$.  
Hint: use the shrinking closed set property.
\end{thm}

\begin{proof}
  Consider any $x \in X$ and arbitrary $\epsilon > 0$, it
  suffices to show that $U_n \cap B(x, \epsilon)
  \neq \emptyset$ for each $n \in \N$. 
  Now inductively choosing a sequence 
  $x_i \in X$ and $\epsilon_i > 0$ such that 
  for each $i \in \N$, $B[x_i, \epsilon_i] \subset U_i$,
  $B[x_{i+1}, \epsilon_i] \subset B[x_i, \epsilon_i]
  \subset B(x, \epsilon)$, and $\epsilon_i < 2^{-i} \epsilon$.
  
  Since $U_0$ is dense in $X$,
  $B(x, \epsilon) \cap U_0 \neq \emptyset$.
  Note that both $U_0$ and $B(x, \epsilon)$ are open, so
  we can choose $x_0 \in B(x, \epsilon) \cap U_0$ 
  and $\epsilon_0 > 0$ so small 
  that $B[x_0, \epsilon_0] \subset B(x, \epsilon) \cap U_0$
  and $\epsilon_0 < \epsilon$. 
  Now suppose 
  for $0 \leq i \leq n$, we have chosen $x_i \in X$ 
  and $\epsilon_i > 0$ such that 
  $B[x_i, \epsilon_i] \subset U_i$ 
  and $\epsilon_i < 2^{-i} \epsilon$ 
  for all $0 \leq i \leq n$,
  $B[x_{i+1}, \epsilon_{i+1}] \subset 
  B[x_i, \epsilon_i]$ for all $0 \leq i < n$.
  Since $U_{n+1}$ is dense in $X$, $B(x_n, \epsilon_n)
  \cap U_{n+1} \neq \emptyset$. Note also both $U_{n+1}$ 
  and $B(x_n, \epsilon_n)$ are open.
  Therefore, choose 
  $x_{n+1} \in B(x_n, \epsilon_n) \cap U_{n+1}$ and 
  $\epsilon_{n+1} > 0$ so small that 
  $B[x_{n+1}, \epsilon_{n+1}] \subset B(x_n, \epsilon_n) 
  \cap U_{n+1}$ and $\epsilon_{n+1} < \frac{\epsilon_n}{2}$. 
  It follows that 
  $B[x_{n+1}, \epsilon_{n+1}] \subset U_{n+1}$ and 
  $B[x_{n+1}, \epsilon_{n+1}] \subset B[x_n, \epsilon_n]
  \subset B(x, \epsilon)$. Also, 
  $\epsilon < \frac{\epsilon_n}{2} < 2^{-n-1} \epsilon$.
  Now we have successfully constructing the desired sequence.
  
  Since $X$ is complete, $\bigcap_{n=0}^\infty B[x_n, \epsilon_n]
  = \left\{ z \right\}$ for some $z \in X$. Note that 
  for each $n$, we have $z \in B[x_n, \epsilon_n] \subset U_n$. 
  Also,
  $z \in B[x_n, \epsilon_n] \subset B(x, \epsilon)$. 
  Therefore, $z \in U_n \cap B(x, \epsilon)$ for each $n \in \N$
  and $\bigcap_{n=0}^\infty U_n$ is dense in $X$.
\end{proof}

\begin{remark}
    An equivalent statement of the theorem is the following: \\
    Let $X$ be a complete metric space and $\{C_n\}$ a countable 
    collection of closed subsets of $X$ such that $X = 
    \bigcup_{n \in \N} C_n $. Then at least one of the $C_n$ 
    contains an open ball.
\end{remark}

\subsection{Open mapping theorem}

\subsubsection*{Linear surjections}

\begin{thm}[Open mapping theorem]
Let $X,Y$ be Banach spaces over a common field and assume that 
$T \in \L(X;Y)$.  Prove that the following are equivalent.
\begin{enumerate}
 \item $T$ is surjective.
 
 \item There exists $\delta >0$ such that $B_Y(0,\delta) \subset 
 \overline{T(B_X(0,1))}$.
 
 \item For every $\epsilon >0$ there exists $\delta >0$ 
 such that $B_Y(0,\delta) \subset T(B_X(0,\ep))$.
 
 \item $T$ is an open map: if $U\subset X$ is open, then 
 $T(U) \subset Y$ is open.

  \item There exists $C \ge 0$ such that for each $y \in Y$ 
  there exists $x \in X$ such that $Tx=y$ and 
\begin{equation*}
 \norm{x}_X \le C \norm{y}_Y.
\end{equation*}
\end{enumerate}
HINT: Prove that  $(1) \implies (2) \implies (3) 
\implies (4) \implies (5)  \implies (1)$, keeping 
in mind the following suggestions.  
\begin{enumerate}
 \item For (1) $\implies$ (2): Study the sets $C_n = 
 \overline{T(B_X(0,n))} \subset Y$ for $n \ge 1$.
 \item For (2) $\implies$ (3):  Prove that 
 $\overline{T(B_X(0,1)  )} \subset T(B_X(0,3))$ 
 by considering $y \in\overline{T(B_X(0,1)  )}$ and  
 inductively constructing $\{x_j\}_{j=0}^\infty \subset X$
such that $\norm{x_j}_X < 2^{-j}$ and 
$y - \sum_{j=0}^m T x_j \in B_Y(0,2^{-m-1} R)$  
for all $m \in \N$.
\end{enumerate}
\end{thm}

\begin{proof}
  (1) $\implies$ (2). Following the hint, for $n \geq 1$ let 
  $C_n = \bar{T(B_X(0, n))}$. Then each of the $C_n$ are closed.
  Since $T$ is surjective, $Y = \bigcup_{n=1}^\infty C_n$. 
  Suppose for contradiction that each $C_n$ are nowhere dense.
  It then follows that $C_n^c$ are dense in $Y$. By Baire Category
  Theorem, $\bigcap_{n=1}^\infty C_n^c$ is dense in $Y$. However,
  $\bigcap_{n=1}^\infty C_n^c = \left( \bigcup_{n=1}^\infty C_n \right)^c 
  = \emptyset$, a contradiction. Therefore, at least one $C_n$
  is not nowhere dense. That is, there exists some $n \geq 1$, 
  $\bar{T(B_X(0, n))}$ contains an open ball. However, 
  this is the same set as $n \bar{T(B_X(0, 1))}$. Therefore, 
  $\bar{T(B_X(0, 1))}$ contains an open ball $B_Y(y_0, 4 r)$
  for some $y_0 \in Y$ and $r > 0$.

  Let $y_1 = T x_1$ for some $x_1 \in B_Y(0,1)$ such that 
  $\norm{y_0 - y_1} < 2 r$. It follows that 
  $B_Y(y_1, 2 r) \subset B_Y(y_0, 4 r) \subset \bar{T(B_X(0,1))}$. 
  For any $y \in Y$ such that 
  $\norm{y} < r$, we have 
  \[
  y = -\frac{1}{2} y_1 + \frac{1}{2} (2 y + y_1) = 
  - T \left( \frac{x_1}{2} \right) + \frac{1}{2} (2 y + y_1).
  \]
  However, notice that 
  \[
  \frac{1}{2} (2 y + y_1) \subset \frac{1}{2} B_Y(y_1, 2r) 
  \subset \frac{1}{2} \bar{T(B_X(0, 1))} 
  = \bar{T(B_X(0, \tfrac{1}{2}))} .
  \]
  It follows that 
  \[
  y = - T \left( \frac{x_1}{2} \right) + \frac{1}{2} (2 y + y_1)
  \in - T \left( \frac{x_1}{2} \right) + \bar{T(B_X(0, \tfrac{1}{2}))}.
  \]
  Note that $- T(\frac{x_1}{2}) \in T(B_X(0, \frac{1}{2}))$. Therefore, 
  $y \in \bar{T(B_X(0, 1))}$. Since $y$ is arbitrary with 
  $\norm{y} < r$, we have $B_Y(0, r) \subset \bar{T(B_X(0,1))}$.

  (2) $\implies$ (3). Following the hint, we first show 
  $\bar{T(B_X(0, 1))} \subset T(B_X(0, 3))$.
  By assumption, we have 
  $B_Y(0, R) \subset \bar{T(B_X(0, 1))}$ for some $R > 0$. 
  It follows from homogeneity that for each $m \in \N$, we have 
  \[
    2^{-m} B_Y(0, R) = B_Y(0, 2^{-m} R) \subset 
    2^{-m} \bar{T(B_X(0, 1))} = \bar{T(B_X(0, 2^{-m}))}.
  \]
  Let 
  $y \in \bar{T(B_X(0, 1))}$ and pick $x_0 \in X$ with 
  $\norm{x} < 1$ such that $\norm{y - Tx} < 2^{-1} R$. Now 
  suppose we have chosen $x_j$ for $0 \leq j \leq m$ such that 
  $\norm{x_j} < 2^{-j}$ and $y - \sum_{j=0}^m T x_j \in B_Y(0, 
  2^{-m - 1} R) $ for all $m \in \N$. By the inclusion above, 
  we can pick $x_{m+1} \in X$ with $\norm{x_{m+1}} 
  < 2^{-m-1}$ such that
  \[
  \norm{y - \sum_{j=0}^m T x_j - T x_{m+1}} 
  = \norm{y - \sum_{j=0}^{m+1} T x_j} < 2^{-m-2} R.
  \]
  Therefore, $y - \sum_{j=0}^{m+1} T x_j \in B_Y(0, 2^{-m-2}) R$.
  This completes the inductive construction, and we have
  found a sequence $\left\{ x_j \right\}$ such that 
  $\norm{x_j} < 2^{-j}$ and 
  $y - \sum_{j=0}^m T x_j \in B_Y (0, 2^{-m-1} R)$
  for each $m \in \N$. Note that 
  \[
  \sum_{j=0}^\infty \norm{x_j} \leq \sum_{j=0}^{\infty} 2^{-j} 
  = 2,
  \]
  so $\sum_{j=0}^\infty x_j$ converges absolutely. Since $X$ 
  is Banach, $\sum_{j=0}^\infty x_j$ converges
  to some $x \in X$ with $\norm{x} \leq 2$. Also, since 
  $y - \sum_{j=0}^m T x_j \in B_Y(0, 2^{-m-1}R)$, taking the
  limit where $m$ approaches infinity we obtain 
  \[
  y = \sum_{j=0}^\infty T x_j = T \left( \sum_{j=0}^\infty x_j \right)
  = T x.
  \]
  Therefore, $y \in T(B_X(0, 3))$ and thus $\bar{T(B_X(0, 1))}
  \subset T(B_X (0,3))$.

  Now for every $\epsilon > 0$, we have 
  $\frac{\epsilon}{3} \bar{T(B_X(0, 1))} \subset \frac{\epsilon}{3}
  T(B_X(0, 3)) = T(B_X(0, \epsilon))$. By assumption, there exists
  $\delta > 0$ such that $B_Y(0, \delta) \subset \bar{T(B_X(0, 1))}$.
  Therefore,
  \[
  B_Y \left( 0, \frac{\delta \epsilon}{3} \right) = \frac{\epsilon}{3} 
  B_Y(0, \delta) \subset \frac{\epsilon}{3} \bar{T(B_X(0, 1))}
  \subset T(B_X(0, \epsilon)).
  \]

  (3) $\implies$ (4). Let $U \subset X$ be open and $y \in T(U)$.
  There exists $x \in U$ such that $T x = y$. Since $U$ is open,
  there exists $\epsilon > 0$ such that $B_X(x, \epsilon)
  \subset U$. By assumption, there exists $\delta > 0$
  such that $B_Y(0, \delta) \subset T(B_X(0, \epsilon))$.
  It follows that 
  \[
  B_Y(y, \delta) = y + B_Y(0, \delta) \subset Tx + T(B_X(0, \epsilon)) 
  = T(x + B_X(0, \epsilon)) \subset T(U).
  \]
  Therefore, $T(U)$ is open and $T$ is an open map.

  (4) $\implies$ (5). Since $T$ is an open map, $T(B_X(0, 1))$ is 
  open. Also, $T(0) = 0$ so there exists $r > 0$ such that 
  $B_Y(0, r) \subset T(B_X(0, 1))$. Now let $y \in Y$. Then, 
  $\frac{r}{2 \norm{y}} y \in B_Y(0, r)$ and there exists 
  $x \in B_X(0, 1)$ such that $Tx = \frac{r}{2 \norm{y}} y$. 
  It follows that 
  \[
  T \left( \frac{2\norm{y}}{r} x \right) = y,
  \]
  and since $x \in B_X(0, 1)$,
  \[
  \norm{\frac{2 \norm{y}}{r} x} = \frac{2 \norm{y} \norm{x}}{r}
  < \frac{2}{r} \norm{y}.
  \]
  Letting $C = \frac{2}{r}$ completes the proof.

  (5) $\implies$ (1). Since for each $y \in Y$ there exists 
  $x \in X$ such that $T x = y$, $T$ is surjective.
\end{proof}

\subsubsection*{Linear homeomorphisms, norm equivalence, and closed graphs }
\begin{thm}
    Let $X$ and $Y$ be Banach spaces and suppose that $T \in \L(X,Y)$ is a bijection.  Prove that $T^{-1} \in \L(Y,X)$, and in particular $T$ is a linear (and thus bi-Lipschitz) homeomorphism.
\end{thm}

\begin{proof}
  Since $T \in \L(X, Y)$ is a bijection, $T$ is a surjection. 
  It follows that $T$ is an open map. In particular, for any 
  $U \subset X$ open, $T(U) = (T^{-1})^{-1}(U)$ is open. Therfore,
  $T^{-1}$ is continuous and thus $T$ is a linear homeomorphism.
\end{proof}

\begin{thm}
Let $X$ be a vector space that is complete when equipped 
with both of the norms $\norm{\cdot}_1$ and 
$\norm{\cdot}_2$.  Prove that if there exists a constant 
$C_1>0$ such that $\norm{x}_2 \le C_1 \norm{x}_1$ for all 
$x \in X$, then there exists a constant $C_0 >0$ such that 
$C_0 \norm{x}_1 \le \norm{x}_2 \le C_1 \norm{x}_1$ for all 
$x \in X$.    
\end{thm}

\begin{proof}
Let $T: X_1 \to X_2$, where $X_1$ and $X_2$
are $X$ equipped with norms $\norm{\cdot}_1$ and $\norm{\cdot}_2$,
respectively, be the identity map. Then for any $x \in X$ 
with $\norm{x}_1 = 1$, we have 
\[
\norm{T x}_2 = \norm{x}_2 \leq C_1 \norm{x}_1 = C_1.
\]
Therefore, $T \in \L(X_1, X_2)$. $T$ is also surjective.
Therefore, there exists a constant $C \geq 0$ such that 
each $\norm{x}_1 \leq C \norm{x}_2$. Hence, for each 
$x \in X$
\[
\frac{1}{C} \norm{x}_1 \leq \norm{x}_2 \leq C_1 \norm{x}_1.
\]
Letting $C_0 = \frac{1}{C}$ completes the proof.
\end{proof}

\begin{thm}
    Let $X$ and $Y$ be Banach spaces and let $T : X \to Y$ 
    be linear (just the algebraic condition).  
    Prove that the following are equivalent
\end{thm}
\begin{enumerate}
\item $T$ is continuous, i.e. $T \in \L(X;Y)$.
\item The graph of $T$, $\Gamma(T) = \{(x,Tx) : x \in X\} 
\subset X \times Y$, is closed in $X \times Y$, where 
$X \times Y$ is endowed with any of the usual $p$-norms.
\end{enumerate}

\begin{proof}
  (a) $\implies$ (b). Let $\left\{ (x_n, T x_n) \right\}$ be a convergent sequence 
  in $\Gamma(T)$. Since $X$ is Banach, $x_n \to x$ for some $x \in X$.
  Since $T \in \L(X ; Y)$, we have 
  \[
  \lim_{n \to \infty} T x_n = T \left( \lim_{n \to \infty} x_n \right) = T x.
  \]
  Therefore, $(x_n, T x_n) \to (x, T x) \in \Gamma(T)$, and thus 
  $\Gamma(T)$ is closed.

  (b) $\implies$ (a). Let $\pi_1 : \Gamma(T) \to X$ and 
  $\pi_2 : \Gamma(T) \to Y$ by 
  $\pi_1 (x, T x) = x$ and $\pi_2 (x, T x) = Tx$. Since 
  $\Gamma(T)$ is a closed in Banach space $Y$, 
  $\Gamma(T)$ is Banach space. It is clear that both $\pi_1$
  and $\pi_2$ are bounded linear maps. Moreover, $\pi_1$ is a 
  bijection. It follows that $S = \pi_1^{-1}$ is a bounded linear 
  map. Therefore, $T = \pi_2 \circ S$ is a bounded linear map. 
\end{proof}

\subsubsection*{Linear injections with closed range}
\begin{thm}
    Let $X$ and $Y$ be Banach spaces and $T \in \L(X,Y)$.  
    Prove the following are equivalent.
\begin{enumerate}
 \item $T$ is injective and $\ran(T)$ is closed.
 \item $T : X \to \ran(T)$ is a linear homeomorphism.
 \item There exists $C\ge 0$ such that $\norm{x}_X \le C 
 \norm{Tx}_Y$ for all $x \in X$.
\end{enumerate}
HINT: Prove that $(1) \implies (2) \implies (3) \implies 
(1)$.
\end{thm}

\begin{proof}
  (1) $\implies$ (2). If $T$ is injective and $\ran(T)$ is closed,
  then $\Gamma(T) = \left\{ (x, Tx) : x \in X \right\}$ is closed in 
  $X \times Y$. Therefore, $T : X \to \ran (T)$ is a bounded linear 
  map. Since $T$ is injective, this map is actually bijective from 
  $X$ to $\ran (T)$. Therefore, $T$ is a linaer homeomorphism. 

  (2) $\implies$ (3). Since $T$ is a bijective bounded linear map,
  from $X$ to $\ran(T)$. There exists a contant $C \geq 0$
  such that for each $y \in \ran(T)$ there exists 
  a unique $x \in X$ such that $T x = y$ and $\norm{x} \leq
  C \norm{y} = C \norm{T x}$. Since $T$ is a bijection, 
  $\norm{x} \leq C \norm{T x}$ for all $x \in X$. 

  (3) $\implies$ (1). Let $x \in X$ be such that $T x = 0$.
  It follows that $\norm{x} \leq C \norm{T x} = 0$. Therefore, 
  $x = 0$ and $T$ is injective. To show that 
  $\ran(T)$ is closed, consider a convergent sequence 
  $\left\{ y_n \right\} \subset \ran(T)$ with 
  $y_n = T x_n$. Since for any $n, m \in \N$ we have 
  \[
  \norm{x_n - x_m} \leq C \norm{T (x_n - x_m)} = C \norm{y_n - y_m},
  \]
  $\left\{ x_n \right\}$ is Cauchy. Since $X$ is Banach, 
  $x_n \to x$ for some $x \in X$. Therefore, for 
  all $n \in \N$ we have
  \[
  \norm{y_n - T x} = \norm{T (x_n - x)} \leq \norm{T} \norm{x_n - x},
  \]
  and $y_n \to T x$. Hence, $\ran(T)$ is closed and the proof is
  complete.
\end{proof}

\begin{thm}
  Let $X$ and $Y$ be Banach spaces over a common field. 
  Then, the following subsets of $\L(X; Y)$ are open:
  \begin{enumerate}
    \item $\left\{ T \in \L(X; Y) : \text{$T$ is surjective} \right\}$,
    \item $\left\{ T \in \L(X; Y) : \text{$T$ is injective with closed range} \right\}$,
    \item $\H(X; Y) = \left\{ T \in \L(X; Y) : \text{$T$ is a homeomorphism} \right\}$.
  \end{enumerate}
\end{thm}

\begin{proof}
\begin{enumerate}
\item Let $T \in \L(X; Y)$ be surjective. By open mapping 
theorem, there is $\delta > 0$ such that $B_Y(0, \delta) 
\subset TB_X(0, 1)$. By homogeneity we have 
$B_Y(0, r) \subset TB_X(0, \alpha r)$ for all $r > 0$ where 
$\alpha = \delta^{-1}$. Now let $S \in \L(X; Y)$ be such that 
$\norm{T - S} < \beta < (2\alpha)^{-1}$. Claim $S$ is surjective.

Let $y \in Y$, inductively construct sequences $\left\{ x_n \right\}$
and $\left\{ y_n \right\}$. First let $y_0 = y$. Then,
$\norm{y_0} \in B(0, 2\norm{y_0})$. Select 
$x_0 \in X$ be such that $T x_0 = y_0$ and $\norm{x_0} 
\leq 2 \alpha \norm{y_0}$. Suppose we have selected $y_i$,
$x_i$ for $0 \leq i \leq n$. Set $y_{n+1} = y_n - S x_n$
and select $x_{n+1}$ be such that $T x_{n+1} = y_{n+1}$
and $\norm{x_{n+1}} \leq 2\alpha \norm{y_{n+1}}$.
Then, we have 
\[
\norm{y_{n+1}} = \norm{T x_n - S x_n} \leq
\norm{T - S} \norm{x_n} < 2 \alpha\beta \norm{y_n}
\]
and 
\[
\norm{x_{n+1}} = 2 \alpha \norm{y_{n+1}} \leq
2 \alpha \norm{T - S} \norm{x_n} < 2 \alpha \beta \norm{x_n}.
\]
Note that $2 \alpha\beta < 1$ and $X$ is Banach, define 
\[
x = \sum_{n=0}^\infty x_n = \lim_{N \to \infty} 
\sum_{n = 0}^N x_n.
\]
Also note that $\lim_{n \to \infty} y_n = 0$. It follows 
that 
\[
S x = \sum_{n=0}^\infty S x_n 
= \sum_{n=0}^\infty (y_n - y_{n+1})
= y_0 - \lim_{n \to \infty} y_{n+1} = y.
\]
Therefore $S$ is surjective and the set of surjective 
bounded linear maps are open.

\item Suppose $T \in \L(X; Y)$ is injective with closed range.
Then, closed range theorem gives $C > 0$ such that 
$\norm{x} \leq C \norm{T x}$ for all $x \in X$. Now supose 
$S \in \L(X; Y)$ is such that $\norm{T - S} < (2C)^{-1}$.
Claim that $S$ is also injective with closed range. Indeed,
\[
\begin{aligned}
  \norm{x} &\leq C\norm{T x} \leq C \norm{Sx} + C \norm{(T-S)x} \\
  & \leq C \norm{Sx} + \frac{1}{2}\norm{x}.
\end{aligned}
\]
This shows that $\norm{x} \leq 2C \norm{Sx}$ for all $x \in X$.
By closed range theorem, $S$ is injective with closed range.
This implies that the set of injective bounded linear operator
with closed range is open.

\item This directly follows from 
\[
\H(X; Y) = \left\{ T \in \L(X; Y) : \text{$T$ is surjective} \right\} 
\cap \left\{ T \in \L(X; Y) : \text{$T$ is injective with closed range} \right\}.
\]
\end{enumerate}
\end{proof}

\begin{thm}
Let $X$ and $Y$ be Banach spaces over a common field. Then the following holds.
\begin{enumerate}
\item The sets 
\[
\L_R(X; Y) = \left\{ T \in \L(X; Y) : \text{there exists $S \in \L(Y; X)$ such that $ST = I_X$} \right\}
\]
and 
\[
\L_L(X; Y) = \left\{ T \in \L(X; Y) : \text{there exists $S \in \L(Y; X)$ such that $TS = I_Y$} \right\}
\]
are open.
\item The following inclusion holds: 
\[
\L_L(X; Y) \subset \left\{ T \in \L(X; Y) : \text{$T$ is surjective} \right\}
\]
and 
\[
\L_R(X; Y) \subset \left\{ T \in \L(X; Y) : \text{$T$ is injective with closed range} \right\}.
\]
\item The sets $\L_L(X; Y) \setminus \L_R(X; Y)$ and $\L_R(X; Y) \setminus \L_L(X; Y)$ are open.
\end{enumerate}
\end{thm}

\begin{proof}
\begin{enumerate}
\item Let $T_0 \in \L_R$ and $S_0 \in \L(Y; X)$ be such that 
$T_0 S_0 = I_Y$. Note that $I_X \in \H(X)$ and when $\norm{P} < 1$
for $P \in \L(X)$, we have $I_X + P \in \H(X)$. Suppose now 
$T \in \L(X; Y)$ and $\norm{T} < \norm{S_0}^{-1}$. It follows that 
$I_X + S_0 T \in \H(X)$. For such $T$, we then have 
\[
T_0 + T = T_0 (I_X + S_0 T).
\]
Also, 
\[
(T_0 + T) (I_X + S_0 T)^{-1} S_0 = T_0 (I_X + S_0 T) (I_X + S_0 T)^{-1} S_0
= T_0 S_0 = I_Y.
\]
Therefore, $T_0 + T \in \L_R$ for $T \in B(T_0, \norm{S_0}^{-1})$ 
and $\L_R$ is open.

Now let $T_0 \in \L_L$ and $S_0 \in \L(Y; X)$ be such that 
$S_0 T_0 = I_X$. Again, for $T \in \L(X; Y)$ with 
$\norm{T} < \norm{S_0}^{-1}$, we have 
\[
T_0 + T = (I_X + T S_0) T_0.
\]
and 
\[
S_0 (I_X + T S_0)^{-1} (T_0 + T) = I_X.
\]
Therefore, $\L_R$ is also open.

\item Let $T \in \L_R$ and $S \in \L(Y; X)$ be such that 
$TS = I_Y$. Then for any $y \in Y$ let $x = Sy$. It follows 
that $Tx = TSy = y$. Also, $\norm{x} \leq \norm{S} \norm{y}$
so the 4th item in open mapping theorem guarantees that $T$ is 
surjective. Hence, $\L_L \subset \left\{ T \in \L(X; Y) :  
\text{$T$ is surjective}\right\}$.

Now let $T \in \L_L$ and $S \in \L(Y; X)$ such that 
$ST = I_X$. Now for any $x \in X$, we have $\norm{x} 
= \norm{STx} \leq \norm{S} \norm{Tx}$. Then the closed 
range theorem guarantees that $T$ is injective with closed 
range. Hence, $\L_R \subset \left\{ T \in \L_R(X; Y) : 
\text{$T$ is injective with closed range} \right\}$.

\item ***TO-DO***
\end{enumerate}
\end{proof}

\subsection{Hahn-Banach theorem and duality}

\begin{thm}[Hahn-Banach theorem in $\R$]
Let $X$ be a real vector space and suppose $p: X \to \R$ 
is such that 
\[
p(tx + (1-t)y) \leq t p(x) + (1 - t) p (y)
\]
for all $t \in [0,1]$ and $x, y \in X$. 

Suppose $Y$ subspace of $X$ and $l: Y \to \R$ is a linear map 
such that $l \leq p$ on $Y$. Then there exists linear map $L: 
X \to \R$ such that $L \leq p$ on $X$ and $L = l$ on $Y$.
\end{thm}

\begin{proof}
  
*** TO-DO ***

\end{proof}

\begin{thm}[Hahn-Banach theorem in $\C$]
Let $X$ be complex vector space and suppose $p: X \to \R$ 
is such that 
\[
p(\alpha x + \beta y) \leq \abs{\alpha} p(x) + \abs{\beta} p(y)
\]
for all $\alpha, \beta \in \C$ such that $\abs{\alpha} + 
\abs{\beta}=1$ and $x, y \in X$.

Suppose $Y$ subspace of $X$ and $l: Y \to \C$ is a linear map 
such that $\abs{l} \leq p$ on $Y$. Then there exsits linear map 
$L: X \to \C$ such that $\abs{L} \leq p$ on $X$ and  
$L = l$ on $Y$.
\end{thm}

\begin{proof}

*** TO-DO ***

\end{proof}

\begin{thm}[Hahn-Banach theorem for bounded linear functionals]
Let $X$ be a normed vector space over $\F$ and $Y$ a subspace 
of $X$. If $\lambda \in Y^*$ then there exists 
$\Lambda \in X^*$ such that $\Lambda = \lambda$ on $Y$ and 
the operator norm 
$\norm{\lambda}_{Y^*} = \norm{\Lambda}_{X^*}$.
\end{thm}

\begin{proof}
  
*** TO-DO ***

\end{proof}

Next we show some useful implications of Hahn-Banach.

\begin{thm}
Let $X$ be a normed vector space and fix $x \in X$. Then 
the following holds: 
\begin{enumerate}
  \item There exists $\lambda \in X^*$ such that 
  $\norm{\lambda} = \norm{x}$ and 
  \[
  \lambda(x) = \norm{\lambda} \norm{x} = \norm{x}^2.
  \]
  \item We have 
  \[
  \norm{x} = \max_{\substack{w \in X^* \\ \norm{w} = 1}} 
  \abs{w(x)}.
  \]
  \item $x = 0$ if and only if $w(x) = 0$ for all $w \in X^*$.
\end{enumerate}
\end{thm}

\begin{proof}

*** TO-DO ***

\end{proof}


\section{Measure and integration}

\subsection{Constructing outer measures}

\begin{lemma}
  Let $X$ be a set with gauge $(\cale, \gamma)$ that covers 
  $X$. Let $A \subset X$, then the following holds:
  \begin{enumerate}
    \item Let $\om$ be the outer measure generated 
    by $(\cale, \gamma)$. Then there exists collection 
    $\left\{ E_{m,n} \right\}_{m, n= 0}^\infty \subset \cale$
    such that $E = \capinfm \cupinfn E_{m, n}$ such that 
    $A \subset E$ and $\om(A) = \om(E)$. 

    \item Suppose $(X, d)$ is metric space and the gauge is 
    fine.
    Let $\om_d$ be the metric outer measure. Then there exists collection 
    $\left\{ E_{m,n} \right\}_{m, n= 0}^\infty \subset \cale$
    such that $E = \capinfm \cupinfn E_{m, n}$ such that 
    $A \subset E$ and $\om(A) = \om(E)$. 
  \end{enumerate}
\end{lemma}

\begin{proof}
We only prove (2) since (1) is similar. 
Since the gauge is fine, $(\cale_\delta, \gamma_\delta)$
covers $X$ for all $\delta > 0$. Then, for any $m \in \N$,
there exists $\left\{ E_{m, n} \right\}_{n} \subset 
\cale_{2^{-m}}$ such that $A \subset \cupinfn E_{m, n}$ 
and $\suminfn \gamma(E_{m, n}) \leq \om_{2^{-m}}(A) + 2^{-m}$. 
Now let $E = \capinfm \cupinfn E_{m, n}$. Note that 
$A \subset E$ and for any $m \in \N$, we have 
\[
\om_{2^{-m}} (E) \leq \om_{2^{-m}} \left( \cupinfn E_{m, n} \right) 
\leq \suminfn \gamma(E_{m, n}) \leq \om_{2^{-m}} (A) + 2^{-m}.
\]
Taking the limit as $m \to \infty$, we have 
\[
\om_d (E) \leq \om_d(A) \leq \om_d(E),
\]
as desired.
\end{proof}

\begin{thm}
  Let $(X, d)$ be metric space with $(\cale, \gamma)$ such that
  all sets in $\cale$ are open. Assume that $\mu^*$ is a metric 
  outer measure on $X$ such that either 
  
  \begin{enumerate}
    \item $\mu^*$ is generated by $(\cale, \gamma)$, or 
    \item $\mu^* = \mu^*_d$ is generated by $(\cale_\delta, 
    \gamma_\delta)$.
  \end{enumerate}

  Further suppose that $X = \cupinfn A_n$ where $A_n \subset X$
  is such that $\mu^*(A_n) < \infty$. Then the following holds:

  \begin{enumerate}
    \item The gauge covers $X$ in case 1 and is fine in case 
    2. 
    \item In both cases, $\mu^*$ is cover-regular. More precisely,
    for each $A \subset X$, there is $G \in G_\delta(X) \subset \B(X)
    \subset \mf$ such that $A \subset G$ and $\mu^*(A) = \mu^*(G)$.
    \item In both cases, the following are equivalent for 
    $E \subset X$: 
    \begin{enumerate}
      \item $E \in \mf$, i.e. $E$ is measurable.
      \item there exists $G \in G_\delta(X)$ such that 
      $E \subset G$ and $\mu^*(G \setminus E) = 0$.
      \item there exists $F \in F_\sigma(X)$ such that 
      $F \subset E$ and $\mu^* (E \setminus F) = 0$.
    \end{enumerate}
  \end{enumerate}
\end{thm}

\begin{proof}

\textbf{Step 0: proof for (1) and (2).} 

We know $X = \cupinfn A_n$ for some $\mu^* 
(A_n) < \infty$. For case (1), we can pick $\left\{ E_{n, m} \right\}
\subset \cale$ 
such that $A_n \subset \bigcup_{m=0}^\infty E_{n, m}$. Then 
$X = \cupinfn A_n = \bigcup_{n, m} E_{n, m}$. Therefore, 
$\cale$ covers $X$.
For case (2), note that $\om(A_n) < \infty$ 
and $\om_d(A_n) = \sup_{\delta > 0} \om_\delta(A_n)$ 
for each $\delta > 0$ and $n \in \N$.
Then for each $\delta > 0$, 
there exists $\left\{ E_{n, m} \right\} \subset \cale_\delta$
such that $A_n \subset \bigcup_{m=0}^\infty E_{n, m}$.
Then,  
$X = \cupinfn A_n = \bigcup_{n, m} E_{n, m}$. Therefore, 
$(\cale, \gamma)$ is fine.

We have the following observations: 
\begin{enumerate}
  \item $\mu^*$ is a metric outer measure. This miplies that 
  $\B(X) \subset \mf$. 
  \item $G_\delta(X) \cup F_\sigma(X) \subset \B(X) \subset \mf$
  and $\mu^*(A) = 0$ implies $A \in \mf$.
  \item By previous lemma and all sets in $\cale$ are open, 
  we know for each $A \subset X$ there is $E \in G_\delta(X)$
  such that $A \subset E$ and $\mu^*(A) = \mu^*(E)$. 
  In particular, $\mu^*$ is cover regular.
\end{enumerate}

\textbf{Step 1: starting on (3).} 

For (b) $\implies$ (a), suppose (b) holds for $E \subset X$.
Then $E = G \setminus (G \setminus E) \in \mf$ since 
$\om(G \setminus E) = 0$.

For (c) $\implies$ (a), suppose (c) holds for $E \subset X$. 
Then $E = F \cup (E \setminus F) \in \mf$ since 
$\om(E \setminus F) = 0$.

Next we show ``(a) $\implies$ (c)'' implies 
``(a) $\implies$ (b)''. Suppose $E \in \mf$, then 
$E^c \in \mf$. By (a) $\implies$ (b) we know there exists 
$F \in F_\sigma$ such that $F \subset E^c$ and 
$\om(E^c \setminus F) = 0$. Let $G = F^c \in G_\delta$ 
then $E \subset G$ and $G \subset E = E^c \subset F$.

Therefore, it remains to show (a) $\implies$ (c) to complete 
the proof for the theorem. 

\textbf{Step 2: reduction for (a) $\implies$ (c).}

Claim it suffices to show it for $E$ such that $\om(E) < \infty$.
Suppose we did this and $\om(E) = \infty$. Using observation
there exists $B_n \in \mf$ such that $A_n \subset B_n$
and $\om(B_n) = \om (A_n) < \infty$. Then $E_n = E \cap B_n 
\in \mf$ and $\om(E_n) < \infty$. Then by special case there 
is $F_n \in \fs(X)$ such that $F_n \subset E_n$ and 
$\mu^*(F_n \setminus E_n) = 0$. Let $F = \cupinfn F_n \in \fs$
then $F \subset \cupinfn E_n = E$ and 
\[
\om(E \setminus F) \leq \suminfn \om (E_n \setminus F_n) = 0.
\]

\textbf{Step 3: further reduction.}

Claim it suffices to show it for the case where $\om(E) < \infty$
and $E \in \gd(X)$. Suppose we have proved this and consider
$E \subset X$ such that $\om(E) < \infty$. Observation 3 
allows us to pick $G \in \gd(X)$ such that $E \subset G$
and $\om(E) = \om(G)$. Now pick $H \in \gd$ such that $G \setminus E \subset H$
and $\om(H) = \om(G \setminus E)$. 

Now apply special case. This gives $F \in \fs$ such that 
$F \subset G$ and $\om(G \setminus F) = 0$. Let $K = F \setminus H
= F \cap H^c \in \fs$ and $K = F \cap H^c \subset 
G \cap (G \setminus E)^c \subset E$.

Note that $E, F, G, H, K \in \mf$, so 
\[
\begin{aligned}
\om(E \setminus K) 
&= \om(E) - \om(K) \\ 
&= \om(G) - \om(F \setminus H) \\ 
&= \om(G) - \om(F) + \om(F \cap H) \\
&\leq \om(G) - \om(F) + \om(H) \\
&= \om(G \setminus F) + \om(H)  \\
&= \om(G \setminus E) \\
&= \om(G) - \om(E) \\
&= 0.
\end{aligned}
\]
Therefore, $K$ is the desired $\fs$ set.

\textbf{Step 4: finishing (a) $\implies$ (c). }

Suppose $E \in \gd(X)$ and $\om(E) < \infty$. 
Write $E = \cupinfn V_n$ where $V_n \subset X$ open.
For $m, n \in \N$, let 
\[
C_{n, m} = \left\{ x \in V_n: \dist(x, V_n^c) \geq 2^{-m} \right\} 
\subset V_n. 
\]
Note that $C_{n, m}$ is closed, $C_{n, m} \subset C_{n, m+1}$,
$V_n = \bigcup_{m} C_{n, m}$. Since $E, C_{n, m}, V_n \in \mf$,
we have 
\[
\om(E) = \om(E \cap V_n) = \lim_{m \to \infty} \om(E 
\cap C_{n, m}).
\]
Thus, there exists $M(n, k)$ such that 
$\om(E \setminus C_{n, M(n, k)}) < 2^{-n-k}$.
Now let $D_k = \cupinfn C_{n, M(n, k)}$ closed. 
Also, $D_k \subset \cupinfn V_n = E$ and 
\[
\om(E) - \om(D_k) = \om(E \setminus D_k) 
\leq \suminfn \om(E \setminus C_{n, M(n, k)}) \leq 2^{-k+1}.
\]
Let $F = \cupinfk D_k \subset E$ and note that $F \in \fs$.
Then 
\[
\om(E \setminus F) = \om(E) - \om(F) 
\leq \om(E) - \om(D_k) < 2^{-k+1}
\]
for all $k \in \N$. Therefore, $\om(E \setminus F) = 0$.


\end{proof}


\begin{lemma}
Suppose $(X, d)$ metric space with metric outer measure 
$\om$. Suppose $X = \cupinfn V_n$ for $V_n \subset X$ open and 
$\om(V_n) < \infty$. Suppose $E \subset G \in \gd(X)$ such that 
$\om(G \setminus E) = 0$. Then for each $\epsilon > 0$, 
there exists open $U \subset X$ such that $E \subset U$
and $\om(U \setminus E) < \epsilon$.  

\end{lemma}

\begin{proof}

Let $E_n = E \cap V_n$ and $G = G \cap V_n$. Write 
$G = \bigcap_{j=0}^\infty W_j$ where $W_j$ open. 
Now set 
\[
Z_{n, m} = V_n \cap \bigcap_{j=0}^m W_j,
\]
which are open for all $n, m \in \N$.
Now notice that $G_n \subset Z_{n, m+1} \subset Z_{n,m} 
\subset V_n$. Note that $\om(V_n) < \infty$, so 
$\om(G_n) = \lim_{m \to \infty} \om(Z_{n, m})$. Therefore, 
for all $\epsilon > 0$, there exists $M(n)$ such that 
\[
\om(Z_{n, M(n)} \setminus G_n) < \epsilon 2^{-n-2}.
\]
Then set $U = \cupinfn Z_{n, M(n)} \supset \cupinfn G_n = G 
\supset E$ open, then we have 
\[
\begin{aligned}
\om(U \setminus E) 
&= \om(U \setminus G) + \om(G \setminus E)  \\
&= \om \left( \cupinfn Z_{n, M(n)} \cap
\capinfn G_n^c \right) \\
&\leq \suminfn \om(Z_{n, M(n)} \setminus G_n) \\
&< \epsilon,
\end{aligned}
\]
as desired.


\end{proof}


\end{document}